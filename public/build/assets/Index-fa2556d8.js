import{L as B}from"./App-ab8edaec.js";import{P as E}from"./Pagination-5197c754.js";import{X as L,i as P,d as N,e as n,b,w as c,a as e,k as y,c as k,f as d,l as D,m as T,F as u,h as g,g as l,p as m,o as t,t as h}from"./app-f4cb517a.js";import{d as v}from"./index-49ffbda7.js";import{S as w}from"./sweetalert2.all-68adef0a.js";import{_ as U}from"./_plugin-vue_export-helper-c27b6911.js";const V={layout:B,components:{Head:L,Link:P,Pagination:E},props:{users:Object},setup(){const a=N(new URL(document.location).searchParams.get("q"));return{search:a,handleSearch:()=>{v.Inertia.get("/apps/users",{q:a.value})},destroy:o=>{w.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(p=>{p.isConfirmed&&(v.Inertia.delete(`/apps/users/${o}`),w.fire({title:"Deleted!",text:"User deleted successfully.",icon:"success",timer:2e3,showConfirmButton:!1}))})}}}},H=e("title",null,"Users - Aplikasi Kasir",-1),I={class:"c-main"},R={class:"container-fluid"},F={class:"fade-in"},q={class:"row"},M={class:"col-md-12"},Y={class:"card border-0 rounded-3 shadow border-top-purple"},j=e("div",{class:"card-header"},[e("span",{class:"font-weight-bold"},[e("i",{class:"fa fa-users"}),l(" USERS")])],-1),K={class:"card-body"},O={class:"input-group mb-3"},W=e("i",{class:"fa fa-plus-circle me-2"},null,-1),X=e("button",{class:"btn btn-primary input-group-text",type:"submit"},[e("i",{class:"fa fa-search me-2"}),l(" SEARCH")],-1),z={class:"table table-striped table-bordered table-hover"},G=e("thead",null,[e("tr",null,[e("th",{scope:"col"},"Full Name"),e("th",{scope:"col"},"Email Address"),e("th",{scope:"col"},"Roles"),e("th",{scope:"col",style:{width:"20%"}},"Actions")])],-1),J={class:"text-center"},Q=e("i",{class:"fa fa-pencil-alt me-1"},null,-1),Z=["onClick"],$=e("i",{class:"fa fa-trash"},null,-1);function ee(a,r,i,o,p,se){const x=m("Head"),_=m("Link"),C=m("Pagination");return t(),n(u,null,[b(x,null,{default:c(()=>[H]),_:1}),e("main",I,[e("div",R,[e("div",F,[e("div",q,[e("div",M,[e("div",Y,[j,e("div",K,[e("form",{onSubmit:r[1]||(r[1]=y((...s)=>o.handleSearch&&o.handleSearch(...s),["prevent"]))},[e("div",O,[a.hasAnyPermission(["users.create"])?(t(),k(_,{key:0,href:"/apps/users/create",class:"btn btn-primary input-group-text"},{default:c(()=>[W,l(" NEW")]),_:1})):d("",!0),D(e("input",{type:"text",class:"form-control","onUpdate:modelValue":r[0]||(r[0]=s=>o.search=s),placeholder:"search by user name..."},null,512),[[T,o.search]]),X])],32),e("table",z,[G,e("tbody",null,[(t(!0),n(u,null,g(i.users.data,(s,S)=>(t(),n("tr",{key:S},[e("td",null,h(s.name),1),e("td",null,h(s.email),1),e("td",null,[(t(!0),n(u,null,g(s.roles,(f,A)=>(t(),n("span",{key:A,class:"badge badge-primary shadow border-0 ms-2 mb-2"},h(f.name),1))),128))]),e("td",J,[a.hasAnyPermission(["users.edit"])?(t(),k(_,{key:0,href:`/apps/users/${s.id}/edit`,class:"btn btn-success btn-sm me-2"},{default:c(()=>[Q,l(" EDIT")]),_:2},1032,["href"])):d("",!0),a.hasAnyPermission(["users.delete"])?(t(),n("button",{key:1,onClick:y(f=>o.destroy(s.id),["prevent"]),class:"btn btn-danger btn-sm"},[$,l(" DELETE")],8,Z)):d("",!0)])]))),128))])]),b(C,{links:i.users.links,align:"end"},null,8,["links"])])])])])])])])],64)}const ie=U(V,[["render",ee]]);export{ie as default};
